// Messages
//
// .msg-info        - Info, gray
// .msg-warning     - Warning, yellow
// .msg-error       - Error, red
// .msg-success     - Success, green
// .msg-block       - Optional container for messages
// 
// Styleguide 6.

.system-msg {
    position:relative;
    padding: 15px 25px 15px 60px;
    margin:1em 0;
    border-style:solid;
    border:none;

    font-size:0.9em;
    text-align:left;
    
    background:url("../../img/icon-system-messages.png?version=${timestamp}") no-repeat -3000px center;
        
    .close-msg {
        position:absolute;
        right:15px;
        top:50%;
        display: inline-block;
        width: 16px;
        height: 16px;
        line-height: 13px;
        text-align: center;
        font-size:0.85em;
        margin-top:-8px;
        
        font-family: Verdana, sans-serif;
        color:#fff;
        opacity:0.5;
        cursor:pointer;
        
        .transition(opacity, 0.3s, ease-in);
    }
    &:hover {
        .close-msg {
            opacity:1;
        }
    }  

    &.msg-info {
        background-color: @infoColor;
        background-position: -2986px 1em;  // icon is tied to top as info-boxes can have multiple lines
        
        .close-msg {
            background:@borderGray;
        }
    }

    &.msg-warning {
        background-color: @warningColor;
        background-position: -3986px center;

        .close-msg {
            background:#e9c000;
        }
    }

    &.msg-error {
        background-color: @errorColor;
        background-position: -1986px center;
        
        color:#fff;
        
        a {
            color:#fff;
        }
        a:hover {
            color:#fff;
            text-decoration:underline;
        }
        
        ul { margin:0; }
                
        .close-msg {
            background:@redGradient2;
        }
    }

    &.msg-success {
        background-color: @successColor;
        background-position: 14px center;
        
        color:#fff;
        
        .close-msg {
            background:@mainColorDark;
            color: #fff;
            font-size:0.8em;
        }
        
        &.wide {
            padding:23px 25px 23px 90px;
            background-position: 46px center;
            font-size:1em;
            
            .close-msg {
                right:26px;
            }
        }
        
        &.frontpage {
        
            color:#fff;
            font-size:1em;
            
            .close-msg {
                background:@mainColorDark;
                color: @successColor;
            }
        
        }
        
    }
    
    // General message style for narrow columns
    &.small {
        background-image:none;
        padding:5px;
        margin:5px 5px 5px 0;
    }  
}

.field-error {
    margin:0 0 -0.2em 0;
    padding:6px 25px 6px 20px;
    background: @grayGradient2;
    
    font-size:0.9em;
    color: @errorColor;
    
    .message { margin-left:1.2em; }
}

// Exception for the frontpage
// Message floats over the images
// TODO: logout success message
.image-container {
    .system-msg {
        top:1em;
        margin:0;
    }
}

.msg-block {
    min-height:67px;
    margin:1em 0 30px 0;
    padding:15px 25px 15px 126px;
    font-size:0.9em;
    border-left:4px solid @secondaryColor;
    
    background:#fff url("../../img/icon-msg-summary.png?version=${timestamp}") no-repeat 32px 27px;
    
    h1 { margin-top:1em; }
    
    &.errors-summary {
        background-image: url("../../img/icon-errors-summary.png?version=${timestamp}");
        border-left:4px solid @errorColor;

        h3 {
            color: @errorColor;
        }
        
        a {
            color: @bodyColor;
        }
    }
    
    .msg-info {
        background:#fff;
        margin:0 0 0 5px;
        padding:1em 0;
        border:none;
        font-size:1em;
        
        border-top:1px solid #ddd;
        
        &.first, &:first-of-type {
            border:0;
        }
        &:first-child {
            border:0;
        }
    }
}

// Use smaller version inside the modals.
.modal {
    .msg-block.errors-summary {
        margin:0;
        padding:15px 25px 15px 60px;
        background:url("../../img/icon-system-messages.png?version=${timestamp}") no-repeat -1986px 1em;
        border-left:none;
        
    }
}